                        </div>

                        <div class="add-card">
                            <h4>💸 Agregar Gasto</h4>
                            <div class="input-group">
                                <label>Descripción</label>
                                <input type="text" id="gastoDesc" placeholder="Ej: Supermercado, Gasolina">
                            </div>
                            <div class="input-group">
                                <label>Tipo de Gasto</label>
                                <select id="gastoTipo" onchange="toggleDebtDetails()">
                                    <option value="normal">Gasto Normal</option>
                                    <option value="deuda">Pago de Deuda</option>
                                </select>
                            </div>
                            <div class="input-group">
                                <label>Categoría</label>
                                <select id="gastoCategoria">
                                    <option value="Alimentación">Alimentación</option>
                                    <option value="Transporte">Transporte</option>
                                    <option value="Servicios">Servicios</option>
                                    <option value="Entretenimiento">Entretenimiento</option>
                                    <option value="Salud">Salud</option>
                                    <option value="Ropa">Ropa</option>
                                    <option value="Otros">Otros</option>
                                </select>
                            </div>
                            
                            <div id="debtDetails" class="debt-details">
                                <div class="input-group">
                                    <label>Tipo de Deuda</label>
                                    <select id="debtType">
                                        <option value="tarjeta">Tarjeta de Crédito</option>
                                        <option value="credito">Crédito de Consumo</option>
                                        <option value="cuotas">Compra en Cuotas</option>
                                        <option value="prestamo">Préstamo Personal</option>
                                    </select>
                                </div>
                                <div class="input-group">
                                    <label>Nombre de la Deuda</label>
                                    <input type="text" id="debtName" placeholder="Ej: Visa, CMR, Auto">
                                </div>
                            </div>

                            <div class="input-group">
                                <label>Monto</label>
                                <input type="number" id="gastoMonto" placeholder="0">
                            </div>
                            <div class="input-group">
                                <label>Fecha</label>
                                <input type="date" id="gastoFecha">
                            </div>
                            <button class="btn btn-primary-sim" onclick="addGasto()">+ Agregar Gasto</button>
                        </div>
                    </div>

                    <div class="transactions-table">
                        <h4>📋 Transacciones del Mes</h4>
                        <table>
                            <thead>
                                <tr>
                                    <th>Fecha</th>
                                    <th>Tipo</th>
                                    <th>Descripción</th>
                                    <th>Categoría</th>
                                    <th>Monto</th>
                                    <th>Acciones</th>
                                </tr>
                            </thead>
                            <tbody id="transactionsBody">
                                <tr>
                                    <td colspan="6" style="text-align: center; padding: 20px; color: #6c757d;">
                                        No hay transacciones registradas para este mes
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>

                    <div class="summary-month">
                        <h4>📊 Resumen del Mes</h4>
                        <div class="summary-cards">
                            <div class="summary-card">
                                <h3>Total Ingresos</h3>
                                <div class="amount" id="totalIngresosM">$0</div>
                            </div>
                            <div class="summary-card">
                                <h3>Total Gastos</h3>
                                <div class="amount" id="totalGastosM">$0</div>
                            </div>
                            <div class="summary-card">
                                <h3>Ahorro/Déficit</h3>
                                <div class="amount" id="ahorroMes">$0</div>
                            </div>
                            <div class="summary-card">
                                <h3>Transacciones</h3>
                                <div class="amount" id="numTransacciones">0</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- SIMULADOR DE DEUDAS -->
            <div id="deudas" class="tab-content">
                <h2>💳 Simulador de Deudas</h2>
                
                <div class="intro-section">
                    <h3>🎯 ¿Cómo usar el simulador?</h3>
                    <p>1. Agrega tus deudas con el saldo actual y pago mínimo</p>
                    <p>2. El sistema calcula automáticamente la tasa usando la <strong>regla legal chilena</strong>: solo el 5% del pago mínimo reduce la deuda</p>
                    <p>3. Haz clic en "Simular" para cualquier deuda</p>
                    <p>4. Juega con diferentes montos de pago y ve cómo cambia el tiempo para liquidar</p>
                    <p>5. Usa los botones rápidos para ver escenarios de 3, 6 o 12 meses</p>
                    
                    <div class="alert alert-warning" style="margin-top: 15px;">
                        <strong>💡 Nota importante:</strong> Por ley en Chile, cuando pagas solo el mínimo en tarjetas de crédito, únicamente el 5% va a reducir tu deuda real. El resto son intereses, seguros y comisiones.
                    </div>
                </div>
                
                <div class="add-card">
                    <h4>➕ Agregar Nueva Deuda</h4>
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 15px;">
                        <div class="input-group">
                            <label>Nombre de la Deuda</label>
                            <input type="text" id="newDebtName" placeholder="Ej: Tarjeta Visa">
                        </div>
                        <div class="input-group">
                            <label>Tipo</label>
                            <select id="newDebtType">
                                <option value="tarjeta">Tarjeta de Crédito</option>
                                <option value="credito">Crédito de Consumo</option>
                                <option value="cuotas">Compra en Cuotas</option>
                                <option value="prestamo">Préstamo Personal</option>
                            </select>
                        </div>
                        <div class="input-group">
                            <label>Deuda Total</label>
                            <input type="number" id="newDebtTotal" placeholder="Ej: 500000">
                        </div>
                        <div class="input-group">
                            <label>Pago Mínimo (según tu cartola)</label>
                            <input type="number" id="newDebtMin" placeholder="Ej: 25000">
                            <small style="color: #6c757d; font-size: 12px;">Solo ingresa el monto que aparece como "pago mínimo" en tu cartola</small>
                        </div>
                    </div>
                    <div class="input-group">
                        <label>¿Conoces la tasa de interés mensual?</label>
                        <select id="rateKnown" onchange="toggleRateInput()">
                            <option value="no">No, calcular automáticamente</option>
                            <option value="yes">Sí, ingresar manualmente</option>
                        </select>
                    </div>
                    <div class="input-group" id="manualRateGroup" style="display: none;">
                        <label>Tasa Interés Mensual (%)</label>
                        <input type="number" id="newDebtRate" placeholder="Ej: 2.5" step="0.1">
                    </div>
                    <div id="autoRateInfo" class="alert alert-success" style="margin: 10px 0; padding: 10px; font-size: 13px;">
                        <strong>💡 Cálculo automático:</strong> Usaremos la regla legal chilena: cuando pagas el mínimo, solo el 5% reduce la deuda real, el resto son intereses y seguros.
                    </div>
                    <button class="btn btn-success" onclick="addDebt()" style="margin-top: 15px;">+ Agregar Deuda</button>
                </div>

                <div class="debt-simulation">
                    <h4>📊 Mis Deudas Actuales</h4>
                    <table>
                        <thead>
                            <tr>
                                <th>Deuda</th>
                                <th>Tipo</th>
                                <th>Saldo</th>
                                <th>Pago Mínimo</th>
                                <th>Acciones</th>
                            </tr>
                        </thead>
                        <tbody id="debtsTable">
                            <tr>
                                <td colspan="5" style="text-align: center; padding: 20px; color: #6c757d;">
                                    No tienes deudas registradas. ¡Agrega una deuda arriba para comenzar a simular!
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </section>

    <!-- BLOG SECTION -->
    <section id="blog" class="section blog-section">
        <div class="container">
            <div class="blog-header fade-in">
                <h2>📝 CAMI Comments, Tips & Tricks</h2>
                <p>Consejos expertos, estrategias probadas y trucos inteligentes para mejorar tus finanzas personales. Todo basado en experiencia real y casos de éxito.</p>
            </div>

            <div class="blog-grid">
                <article class="blog-card fade-in">
                    <div class="blog-card-header">
                        <span class="blog-icon">🐜</span>
                        <div>
                            <h3>El gasto hormiga no es tu enemigo (si lo usas a tu favor)</h3>
                        </div>
                    </div>
                    <p>Estrategia Camis-MatchUp: cómo convertir tus pequeños gustitos en tu mejor aliado para ahorrar sin castigos. Con calculadora incluida y plan paso a paso.</p>
                    <div class="blog-meta">
                        <span>📅 Hace 2 días</span>
                        <a href="blog/gasto-hormiga-camis-matchup.html" class="read-more">Leer más →</a>
                    </div>
                </article>

                <article class="blog-card fade-in">
                    <div class="blog-card-header">
                        <span class="blog-icon">💳</span>
                        <div>
                            <h3>La Regla del 5%: Por qué el pago mínimo te mantiene endeudado</h3>
                        </div>
                    </div>
                    <p>Descubre la trampa oculta de las tarjetas de crédito y cómo solo el 5% de tu pago mínimo realmente reduce tu deuda. Te explico la matemática detrás y cómo escapar del ciclo.</p>
                    <div class="blog-meta">
                        <span>📅 Hace 1 semana</span>
                        <a href="blog/regla-5-por-ciento.html" class="read-more">Leer más →</a>
                    </div>
                </article>

                <article class="blog-card fade-in">
                    <div class="blog-card-header">
                        <span class="blog-icon">🎯</span>
                        <div>
                            <h3>Presupuesto 50/30/20: La fórmula que cambió mi vida financiera</h3>
                        </div>
                    </div>
                    <p>Mi experiencia personal implementando esta regla durante 2 años. Incluye plantilla descargable y errores comunes que debes evitar desde el primer mes.</p>
                    <div class="blog-meta">
                        <span>📅 Hace 2 semanas</span>
                        <a href="#" class="read-more">Leer más →</a>
                    </div>
                </article>

                <article class="blog-card fade-in">
                    <div class="blog-card-header">
                        <span class="blog-icon">🚗</span>
                        <div>
                            <h3>¿Auto nuevo o usado? El análisis que nadie te cuenta</h3>
                        </div>
                    </div>
                    <p>Calculé los costos reales durante 5 años: seguro, depreciación, mantención y financiamiento. Los resultados te van a sorprender (spoiler: no es lo que piensas).</p>
                    <div class="blog-meta">
                        <span>📅 Hace 3 semanas</span>
                        <a href="#" class="read-more">Leer más →</a>
                    </div>
                </article>

                <article class="blog-card fade-in">
                    <div class="blog-card-header">
                        <span class="blog-icon">🏠</span>
                        <div>
                            <h3>Arriendo vs Compra: Simulación con números reales 2024</h3>
                        </div>
                    </div>
                    <p>Análisis completo considerando pie, dividendo, gastos comunes, mantención y oportunidad de inversión. Con simulador interactivo para tu caso específico.</p>
                    <div class="blog-meta">
                        <span>📅 Hace 1 mes</span>
                        <a href="#" class="read-more">Leer más →</a>
                    </div>
                </article>

                <article class="blog-card fade-in">
                    <div class="blog-card-header">
                        <span class="blog-icon">📈</span>
                        <div>
                            <h3>Fondos Mutuos vs APV: Mi estrategia de inversión a 20 años</h3>
                        </div>
                    </div>
                    <p>Comparación detallada de rentabilidad, riesgo y beneficios tributarios. Incluye mi portafolio actual y por qué diversifiqué entre ambas opciones.</p>
                    <div class="blog-meta">
                        <span>📅 Hace 1 mes</span>
                        <a href="#" class="read-more">Leer más →</a>
                    </div>
                </article>

                <article class="blog-card fade-in">
                    <div class="blog-card-header">
                        <span class="blog-icon">💰</span>
                        <div>
                            <h3>Cómo negocié mi sueldo y obtuve 30% de aumento</h3>
                        </div>
                    </div>
                    <p>Estrategia paso a paso que usé en 3 trabajos diferentes. Incluye scripts reales, timing perfecto y errores que casi me costaron el empleo.</p>
                    <div class="blog-meta">
                        <span>📅 Hace 2 meses</span>
                        <a href="#" class="read-more">Leer más →</a>
                    </div>
                </article>

                <article class="blog-card fade-in">
                    <div class="blog-card-header">
                        <span class="blog-icon">🎓</span>
                        <div>
                            <h3>CAE vs Crédito Bancario: Lo que nadie te dice sobre estudiar</h3>
                        </div>
                    </div>
                    <p>Análisis real del costo total de cada opción considerando tasas, plazos y escenarios post-universitarios. Incluye calculadora personalizada.</p>
                    <div class="blog-meta">
                        <span>📅 Hace 2 meses</span>
                        <a href="#" class="read-more">Leer más →</a>
                    </div>
                </article>

                <article class="blog-card fade-in">
                    <div class="blog-card-header">
                        <span class="blog-icon">🛡️</span>
                        <div>
                            <h3>Seguros que SÍ necesitas y los que son puro marketing</h3>
                        </div>
                    </div>
                    <p>Desglose completo de seguros esenciales vs innecesarios. Mi experiencia personal con siniestros y por qué algunos seguros me ahorraron miles.</p>
                    <div class="blog-meta">
                        <span>📅 Hace 3 meses</span>
                        <a href="#" class="read-more">Leer más →</a>
                    </div>
                </article>
            </div>

            <!-- NEWSLETTER -->
            <div class="newsletter-section fade-in">
                <h3>📬 Suscríbete a CAMI Weekly</h3>
                <p>Recibe cada semana los mejores tips financieros, análisis de mercado y herramientas prácticas directo en tu email. Sin spam, solo valor real.</p>
                <form class="newsletter-form" onsubmit="subscribeNewsletter(event)">
                    <input type="email" class="newsletter-input" placeholder="tu-email@ejemplo.com" required>
                    <button type="submit" class="newsletter-btn">Suscribirme Gratis</button>
                </form>
                <p style="font-size: 0.9em; opacity: 0.8; margin-top: 1rem;">+2,547 lectores ya reciben CAMI Weekly</p>
            </div>
        </div>
    </section>

    <!-- MODAL SIMULADOR -->
    <div id="simulatorModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="modalTitle">Simulador de Pagos</h3>
                <span class="close" onclick="closeModal()">&times;</span>
            </div>
            <div id="modalBody">
                <div class="input-group">
                    <label>Monto a pagar este mes:</label>
                    <input type="number" id="paymentAmount" placeholder="0" onchange="calculateScenarios()">
                </div>
                
                <div class="quick-scenarios">
                    <button class="quick-btn" onclick="setQuickPayment('minimo')">Mínimo</button>
                    <button class="quick-btn" onclick="setQuickPayment('doble')">Doble</button>
                    <button class="quick-btn" onclick="setQuickPayment('triple')">Triple</button>
                    <button class="quick-btn" onclick="setQuickPayment('3meses')">3 meses</button>
                    <button class="quick-btn" onclick="setQuickPayment('6meses')">6 meses</button>
                    <button class="quick-btn" onclick="setQuickPayment('12meses')">12 meses</button>
                </div>

                <div class="simulation-results" id="simulationResults">
                    <!-- Se llenan dinámicamente -->
                </div>

                <div id="scenarioComparison" style="margin-top: 20px;">
                    <!-- Comparación de escenarios -->
                </div>
            </div>
        </div>
    </div>

    <script>
        // Variables globales
        let monthlyData = {};
        let currentMonth = '';
        let debts = [];
        let currentDebt = null;
        let currentSection = 'hero';

        // Inicialización
        document.addEventListener('DOMContentLoaded', function() {
            initializeApp();
            loadFromLocalStorage();
        });

        // NAVEGACIÓN ENTRE SECCIONES
        function showSection(sectionId) {
            // Ocultar todas las secciones
            document.querySelectorAll('.section, .hero').forEach(section => {
                section.classList.remove('active');
            });
            
            // Quitar active de todos los links de navegación
            document.querySelectorAll('.nav-link').forEach(link => {
                link.classList.remove('active');
            });
            
            // Mostrar la sección seleccionada
            document.getElementById(sectionId).classList.add('active');
            
            // Activar el link correspondiente
            event.target.classList.add('active');
            
            currentSection = sectionId;
        }

        function initializeApp() {
            // Establecer fecha actual
            const today = new Date().toISOString().split('T')[0];
            document.getElementById('ingresoFecha').value = today;
            document.getElementById('gastoFecha').value = today;

            // Generar meses para los próximos 24 meses
            generateMonthOptions();
            
            // Establecer mes actual
            const now = new Date();
            currentMonth = `${now.getFullYear()}-${String(now.getMonth() + 1).padStart(2, '0')}`;
            document.getElementById('selectedMonth').value = currentMonth;
            
            updateCurrentMonth();
            updateCronograma();
        }

        function generateMonthOptions() {
            const select = document.getElementById('selectedMonth');
            const now = new Date();
            
            for (let i = -6; i <= 18; i++) {
                const date = new Date(now.getFullYear(), now.getMonth() + i, 1);
                const value = `${date.getFullYear()}-${String(date.getMonth() + 1).padStart(2, '0')}`;
                const text = date.toLocaleDateString('es-ES', { year: 'numeric', month: 'long' });
                
                const option = document.createElement('option');
                option.value = value;
                option.textContent = text.charAt(0).toUpperCase() + text.slice(1);
                select.appendChild(option);
            }
        }

        function formatCurrency(amount) {
            return new Intl.NumberFormat('es-CL', {
                style: 'currency',
                currency: 'CLP',
                minimumFractionDigits: 0
            }).format(amount);
        }

        function showTab(tabId) {
            document.querySelectorAll('.tab-content').forEach(content => {
                content.classList.remove('active');
            });
            
            document.querySelectorAll('.tab-button').forEach(button => {
                button.classList.remove('active');
            });
            
            document.getElementById(tabId).classList.add('active');
            event.target.classList.add('active');

            if (tabId === 'deudas') {
                updateDebtsTable();
            }
        }

        function updateCurrentMonth() {
            currentMonth = document.getElementById('selectedMonth').value;
            
            if (!monthlyData[currentMonth]) {
                monthlyData[currentMonth] = {
                    ingresos: [],
                    gastos: []
                };
            }
            
            updateTransactionsTable();
            updateMonthlySummary();
            saveToLocalStorage();
        }

        function addNewMonth() {
            const monthInput = prompt('Ingrese el mes en formato YYYY-MM (ej: 2024-12):');
            if (monthInput && /^\d{4}-\d{2}$/.test(monthInput)) {
                const select = document.getElementById('selectedMonth');
                const option = document.createElement('option');
                option.value = monthInput;
                
                const [year, month] = monthInput.split('-');
                const date = new Date(year, month - 1, 1);
                option.textContent = date.toLocaleDateString('es-ES', { year: 'numeric', month: 'long' });
                
                select.appendChild(option);
                select.value = monthInput;
                updateCurrentMonth();
                showAlert('Mes agregado correctamente', 'success');
            } else {
                showAlert('Formato de mes inválido', 'danger');
            }
        }

        function addIngreso() {
            const desc = document.getElementById('ingresoDesc').value.trim();
            const monto = parseFloat(document.getElementById('ingresoMonto').value);
            const fecha = document.getElementById('ingresoFecha').value;
            
            if (!desc || !monto || !fecha) {
                showAlert('Por favor completa todos los campos del ingreso', 'danger');
                return;
            }

            monthlyData[currentMonth].ingresos.push({
                id: Date.now(),
                descripcion: desc,
                monto: monto,
                fecha: fecha
            });

            // Limpiar formulario
            document.getElementById('ingresoDesc').value = '';
            document.getElementById('ingresoMonto').value = '';
            
            updateTransactionsTable();
            updateMonthlySummary();
            updateCronograma();
            saveToLocalStorage();
            showAlert('Ingreso agregado correctamente', 'success');
        }

        function addGasto() {
            const desc = document.getElementById('gastoDesc').value.trim();
            const tipo = document.getElementById('gastoTipo').value;
            const categoria = document.getElementById('gastoCategoria').value;
            const monto = parseFloat(document.getElementById('gastoMonto').value);
            const fecha = document.getElementById('gastoFecha').value;
            
            if (!desc || !monto || !fecha) {
                showAlert('Por favor completa todos los campos del gasto', 'danger');
                return;
            }

            const gasto = {
                id: Date.now(),
                descripcion: desc,
                tipo: tipo,
                categoria: categoria,
                monto: monto,
                fecha: fecha
            };

            if (tipo === 'deuda') {
                gasto.debtType = document.getElementById('debtType').value;
                gasto.debtName = document.getElementById('debtName').value;
            }

            monthlyData[currentMonth].gastos.push(gasto);

            // Limpiar formulario
            document.getElementById('gastoDesc').value = '';
            document.getElementById('gastoMonto').value = '';
            
            updateTransactionsTable();
            updateMonthlySummary();
            updateCronograma();
            saveToLocalStorage();
            showAlert('Gasto agregado correctamente', 'success');
        }

        function toggleDebtDetails() {
            const tipo = document.getElementById('gastoTipo').value;
            const details = document.getElementById('debtDetails');
            
            if (tipo === 'deuda') {
                details.classList.add('show');
            } else {
                details.classList.remove('show');
            }
        }

        function deleteTransaction(tipo, id) {
            if (!confirm('¿Estás seguro de eliminar esta transacción?')) return;

            if (tipo === 'ingreso') {
                monthlyData[currentMonth].ingresos = monthlyData[currentMonth].ingresos.filter(item => item.id !== id);
            } else {
                monthlyData[currentMonth].gastos = monthlyData[currentMonth].gastos.filter(item => item.id !== id);
            }

            updateTransactionsTable();
            updateMonthlySummary();
            updateCronograma();
            saveToLocalStorage();
            showAlert('Transacción eliminada', 'warning');
        }

        function updateTransactionsTable() {
            const tbody = document.getElementById('transactionsBody');
            tbody.innerHTML = '';

            if (!monthlyData[currentMonth] || 
                (monthlyData[currentMonth].ingresos.length === 0 && monthlyData[currentMonth].gastos.length === 0)) {
                tbody.innerHTML = `
                    <tr>
                        <td colspan="6" style="text-align: center; padding: 20px; color: #6c757d;">
                            No hay transacciones registradas para este mes
                        </td>
                    </tr>
                `;
                return;
            }

            // Mostrar ingresos
            monthlyData[currentMonth].ingresos.forEach(ingreso => {
                const tr = document.createElement('tr');
                tr.innerHTML = `
                    <td>${ingreso.fecha}</td>
                    <td><span style="color: #28a745; font-weight: bold;">💰 Ingreso</span></td>
                    <td>${ingreso.descripcion}</td>
                    <td>-</td>
                    <td class="currency" style="color: #28a745;">${formatCurrency(ingreso.monto)}</td>
                    <td><button class="delete-btn" onclick="deleteTransaction('ingreso', ${ingreso.id})">🗑️</button></td>
                `;
                tbody.appendChild(tr);
            });

            // Mostrar gastos
            monthlyData[currentMonth].gastos.forEach(gasto => {
                const tr = document.createElement('tr');
                let debtInfo = '';
                if (gasto.tipo === 'deuda') {
                    debtInfo = ` (${gasto.debtName})`;
                }
                
                tr.innerHTML = `
                    <td>${gasto.fecha}</td>
                    <td><span style="color: #dc3545; font-weight: bold;">💸 Gasto</span></td>
                    <td>${gasto.descripcion}${debtInfo}</td>
                    <td>${gasto.categoria}</td>
                    <td class="currency" style="color: #dc3545;">-${formatCurrency(gasto.monto)}</td>
                    <td><button class="delete-btn" onclick="deleteTransaction('gasto', ${gasto.id})">🗑️</button></td>
                `;
                tbody.appendChild(tr);
            });
        }

        function updateMonthlySummary() {
            let totalIngresos = 0;
            let totalGastos = 0;
            let numTransacciones = 0;

            if (monthlyData[currentMonth]) {
                totalIngresos = monthlyData[currentMonth].ingresos.reduce((sum, item) => sum + item.monto, 0);
                totalGastos = monthlyData[currentMonth].gastos.reduce((sum, item) => sum + item.monto, 0);
                numTransacciones = monthlyData[currentMonth].ingresos.length + monthlyData[currentMonth].gastos.length;
            }

            const ahorro = totalIngresos - totalGastos;

            document.getElementById('totalIngresosM').textContent = formatCurrency(totalIngresos);
            document.getElementById('totalGastosM').textContent = formatCurrency(totalGastos);
            document.getElementById('ahorroMes').textContent = formatCurrency(ahorro);
            document.getElementById('numTransacciones').textContent = numTransacciones;

            // Cambiar color según si es ahorro o déficit
            const ahorroElement = document.getElementById('ahorroMes');
            ahorroElement.style.color = ahorro >= 0 ? '#28a745' : '#dc3545';
        }

        function updateCronograma() {
            const tbody = document.getElementById('cronogramaBody');
            tbody.innerHTML = '';

            let totalIngresos = 0;
            let totalGastos = 0;
            let mesesConDatos = 0;

            const mesesOrdenados = Object.keys(monthlyData).sort();
            
            if (mesesOrdenados.length === 0) {
                tbody.innerHTML = `
                    <tr>
                        <td colspan="6" style="text-align: center; padding: 40px; color: #6c757d;">
                            <h3>¡Comienza registrando tu primer mes!</h3>
                            <p>Ve a "Control Mensual" para agregar tus ingresos y gastos</p>
                            <button class="btn btn-primary-sim" onclick="showTab('control'); document.querySelector('[onclick=\\'showTab(\\'control\\')\\'').classList.add('active');">
                                📝 Ir a Control Mensual
                            </button>
                        </td>
                    </tr>
                `;
                return;
            }

            mesesOrdenados.forEach(month => {
                const data = monthlyData[month];
                const ingresos = data.ingresos.reduce((sum, item) => sum + item.monto, 0);
                const gastos = data.gastos.reduce((sum, item) => sum + item.monto, 0);
                const ahorro = ingresos - gastos;

                if (ingresos > 0 || gastos > 0) {
                    mesesConDatos++;
                    totalIngresos += ingresos;
                    totalGastos += gastos;
                }

                const [year, monthNum] = month.split('-');
                const date = new Date(year, monthNum - 1, 1);
                const monthName = date.toLocaleDateString('es-ES', { year: 'numeric', month: 'long' });

                const tr = document.createElement('tr');
                tr.innerHTML = `
                    <td class="month-cell">${monthName.charAt(0).toUpperCase() + monthName.slice(1)}</td>
                    <td class="currency">${formatCurrency(ingresos)}</td>
                    <td class="currency">${formatCurrency(gastos)}</td>
                    <td class="currency" style="color: ${ahorro >= 0 ? '#28a745' : '#dc3545'}">${formatCurrency(ahorro)}</td>
                    <td>${ingresos > 0 || gastos > 0 ? '✅ Registrado' : '⭕ Pendiente'}</td>
                    <td>
                        <button class="btn btn-primary-sim" style="padding: 5px 10px; font-size: 12px;" onclick="goToMonth('${month}')">Ver Detalle</button>
                    </td>
                `;
                tbody.appendChild(tr);
            });

            // Actualizar resumen general
            document.getElementById('totalIngresosMensuales').textContent = formatCurrency(mesesConDatos > 0 ? totalIngresos / mesesConDatos : 0);
            document.getElementById('totalGastosMensuales').textContent = formatCurrency(mesesConDatos > 0 ? totalGastos / mesesConDatos : 0);
            document.getElementById('ahorroPromedio').textContent = formatCurrency(mesesConDatos > 0 ? (totalIngresos - totalGastos) / mesesConDatos : 0);
            document.getElementById('mesesRegistrados').textContent = mesesConDatos;
        }

        function goToMonth(month) {
            document.getElementById('selectedMonth').value = month;
            updateCurrentMonth();
            showTab('control');
            document.querySelector('[onclick="showTab(\'control\')"]').classList.add('active');
        }

        function toggleRateInput() {
            const rateKnown = document.getElementById('rateKnown').value;
            const manualGroup = document.getElementById('manualRateGroup');
            const autoInfo = document.getElementById('autoRateInfo');
            
            if (rateKnown === 'yes') {
                manualGroup.style.display = 'block';
                autoInfo.style.display = 'none';
            } else {
                manualGroup.style.display = 'none';
                autoInfo.style.display = 'block';
            }
        }

        function calculateAutomaticRate(debtTotal, minimumPayment) {
            // Según ley chilena: pago mínimo = 5% capital + intereses/seguros
            const capitalPayment = debtTotal * 0.05;
            const interestPayment = minimumPayment - capitalPayment;
            const monthlyRate = interestPayment / debtTotal;
            
            return Math.max(0, monthlyRate);
        }

        // SIMULADOR DE DEUDAS
        function addDebt() {
            const name = document.getElementById('newDebtName').value.trim();
            const type = document.getElementById('newDebtType').value;
            const total = parseFloat(document.getElementById('newDebtTotal').value);
            const minimum = parseFloat(document.getElementById('newDebtMin').value);
            const rateKnown = document.getElementById('rateKnown').value;
            
            if (!name || !total || !minimum) {
                showAlert('Por favor completa nombre, deuda total y pago mínimo', 'danger');
                return;
            }

            if (minimum <= 0 || total <= 0) {
                showAlert('Los montos deben ser mayores a 0', 'danger');
                return;
            }

            let rate;
            if (rateKnown === 'yes') {
                const manualRate = parseFloat(document.getElementById('newDebtRate').value);
                if (!manualRate || manualRate <= 0) {
                    showAlert('Por favor ingresa una tasa de interés válida', 'danger');
                    return;
                }
                rate = manualRate / 100;
            } else {
                rate = calculateAutomaticRate(total, minimum);
                
                if (minimum < total * 0.05) {
                    showAlert('El pago mínimo parece muy bajo. Debe ser al menos el 5% de la deuda total.', 'warning');
                }
            }

            debts.push({
                id: Date.now(),
                name: name,
                type: type,
                total: total,
                current: total,
                minimum: minimum,
                rate: rate,
                rateCalculated: rateKnown === 'no'
            });

            // Limpiar formulario
            document.getElementById('newDebtName').value = '';
            document.getElementById('newDebtTotal').value = '';
            document.getElementById('newDebtMin').value = '';
            document.getElementById('newDebtRate').value = '';
            document.getElementById('rateKnown').value = 'no';
            toggleRateInput();

            updateDebtsTable();
            saveToLocalStorage();
            
            const rateText = rateKnown === 'no' ? 
                `Tasa calculada automáticamente: ${(rate * 100).toFixed(2)}%` : 
                'Tasa ingresada manualmente';
            showAlert(`Deuda agregada correctamente. ${rateText}`, 'success');
        }

        function updateDebtsTable() {
            const tbody = document.getElementById('debtsTable');
            tbody.innerHTML = '';

            if (debts.length === 0) {
                tbody.innerHTML = `
                    <tr>
                        <td colspan="5" style="text-align: center; padding: 20px; color: #6c757d;">
                            No tienes deudas registradas. ¡Agrega una deuda arriba para comenzar a simular!
                        </td>
                    </tr>
                `;
                return;
            }

            debts.forEach(debt => {
                const tr = document.createElement('tr');
                
                tr.innerHTML = `
                    <td><strong>${debt.name}</strong></td>
                    <td>${getDebtTypeText(debt.type)}</td>
                    <td class="currency">${formatCurrency(debt.current)}</td>
                    <td class="currency">${formatCurrency(debt.minimum)}</td>
                    <td>
                        <button class="simulate-btn" onclick="openSimulator(${debt.id})">📊 Simular</button>
                        <button class="delete-btn" onclick="deleteDebt(${debt.id})">🗑️</button>
                    </td>
                `;
                tbody.appendChild(tr);
            });
        }

        function getDebtTypeText(type) {
            const types = {
                'tarjeta': 'Tarjeta de Crédito',
                'credito': 'Crédito de Consumo',
                'cuotas': 'Compra en Cuotas',
                'prestamo': 'Préstamo Personal'
            };
            return types[type] || type;
        }

        function deleteDebt(id) {
            if (!confirm('¿Estás seguro de eliminar esta deuda?')) return;
            
            debts = debts.filter(debt => debt.id !== id);
            updateDebtsTable();
            saveToLocalStorage();
            showAlert('Deuda eliminada', 'warning');
        }

        function openSimulator(debtId) {
            currentDebt = debts.find(debt => debt.id === debtId);
            if (!currentDebt) return;

            document.getElementById('modalTitle').textContent = `Simulador: ${currentDebt.name}`;
            document.getElementById('paymentAmount').value = currentDebt.minimum;
            document.getElementById('simulatorModal').style.display = 'block';
            
            calculateScenarios();
        }

        function closeModal() {
            document.getElementById('simulatorModal').style.display = 'none';
        }

        function setQuickPayment(scenario) {
            if (!currentDebt) return;

            let payment = currentDebt.minimum;
            
            switch(scenario) {
                case 'minimo':
                    payment = currentDebt.minimum;
                    break;
                case 'doble':
                    payment = currentDebt.minimum * 2;
                    break;
                case 'triple':
                    payment = currentDebt.minimum * 3;
                    break;
                case '3meses':
                    payment = calculatePaymentForMonths(3);
                    break;
                case '6meses':
                    payment = calculatePaymentForMonths(6);
                    break;
                case '12meses':
                    payment = calculatePaymentForMonths(12);
                    break;
            }

            document.getElementById('paymentAmount').value = Math.round(payment);
            calculateScenarios();
        }

        function calculatePaymentForMonths(targetMonths) {
            if (!currentDebt) return 0;

            const { current, rate } = currentDebt;
            const r = rate;
            const n = targetMonths;
            const pv = current;
            
            if (r === 0) return pv / n;
            
            const payment = pv * (r * Math.pow(1 + r, n)) / (Math.pow(1 + r, n) - 1);
            return payment;
        }

        function calculateScenarios() {
            if (!currentDebt) return;

            const payment = parseFloat(document.getElementById('paymentAmount').value) || 0;
            const resultsDiv = document.getElementById('simulationResults');
            const comparisonDiv = document.getElementById('scenarioComparison');

            const scenario = calculateDebtScenario(currentDebt.current, currentDebt.rate, payment);
            const minScenario = calculateDebtScenario(currentDebt.current, currentDebt.rate, currentDebt.minimum);

            resultsDiv.innerHTML = `
                <div class="result-card">
                    <h5>Meses para Liquidar</h5>
                    <div class="value">${scenario.months === Infinity ? '∞' : scenario.months}</div>
                </div>
                <div class="result-card">
                    <h5>Total a Pagar</h5>
                    <div class="value">${scenario.totalPaid === Infinity ? '∞' : formatCurrency(scenario.totalPaid)}</div>
                </div>
                <div class="result-card">
                    <h5>Total Intereses</h5>
                    <div class="value">${scenario.totalInterest === Infinity ? '∞' : formatCurrency(scenario.totalInterest)}</div>
                </div>
                <div class="result-card">
                    <h5>Ahorro vs Mínimo</h5>
                    <div class="value" style="color: #28a745;">${(minScenario.totalPaid === Infinity || scenario.totalPaid === Infinity) ? '∞' : formatCurrency(minScenario.totalPaid - scenario.totalPaid)}</div>
                </div>
            `;

            let comparisonHTML = '';
            
            if (scenario.months === Infinity) {
                comparisonHTML = `
                    <div class="scenario-card" style="border-left-color: #dc3545;">
                        <h5>⚠️ Pago Insuficiente</h5>
                        <p><strong>El pago de ${formatCurrency(payment)} no cubre ni los intereses.</strong></p>
                        <p>Interés mensual: <strong>${formatCurrency(currentDebt.current * currentDebt.rate)}</strong></p>
                        <p>Necesitas pagar al menos <strong>${formatCurrency(Math.ceil(currentDebt.current * currentDebt.rate) + 1)}</strong> para empezar a reducir la deuda.</p>
                    </div>
                `;
            } else {
                const years = Math.floor(scenario.months / 12);
                const months = scenario.months % 12;
                const timeText = years > 0 ? `${years} años ${months} meses` : `${months} meses`;
                
                comparisonHTML = `
                    <div class="scenario-card ${payment > currentDebt.minimum ? 'scenario-highlight' : ''}">
                        <h5>💡 Análisis del Pago</h5>
                        <p><strong>Pagando ${formatCurrency(payment)}:</strong></p>
                        <ul>
                            <li>Terminas en <strong>${scenario.months} meses</strong> (${timeText})</li>
                            <li>Pagas <strong>${formatCurrency(scenario.totalInterest)}</strong> en intereses</li>
                            <li>Te ahorras <strong>${formatCurrency(minScenario.totalPaid - scenario.totalPaid)}</strong> vs pago mínimo</li>
                        </ul>
                        ${payment > currentDebt.minimum ? 
                            `<p style="color: #28a745;"><strong>¡Excelente estrategia!</strong> Reduces ${minScenario.months - scenario.months} meses de pagos.</p>` :
                            `<p style="color: #856404;"><strong>Considera pagar más:</strong> Con solo ${formatCurrency((currentDebt.minimum * 1.5) - payment)} extra mensual puedes reducir significativamente el tiempo.</p>`
                        }
                    </div>
                `;
            }

            comparisonDiv.innerHTML = comparisonHTML;
        }

        function calculateDebtScenario(balance, monthlyRate, payment) {
            let currentBalance = balance;
            let months = 0;
            let totalPaid = 0;
            let totalInterest = 0;

            if (payment <= 0) {
                return { months: Infinity, totalPaid: Infinity, totalInterest: Infinity };
            }

            const monthlyInterest = currentBalance * monthlyRate;
            if (payment <= monthlyInterest) {
                return { months: Infinity, totalPaid: Infinity, totalInterest: Infinity };
            }

            while (currentBalance > 0.01 && months < 1000) {
                const interestPayment = currentBalance * monthlyRate;
                const principalPayment = payment - interestPayment;
                
                if (principalPayment <= 0) {
                    return { months: Infinity, totalPaid: Infinity, totalInterest: Infinity };
                }

                if (currentBalance <= principalPayment) {
                    const finalPayment = currentBalance + interestPayment;
                    totalPaid += finalPayment;
                    totalInterest += interestPayment;
                    currentBalance = 0;
                    months++;
                } else {
                    currentBalance -= principalPayment;
                    totalPaid += payment;
                    totalInterest += interestPayment;
                    months++;
                }
            }

            return {
                months: months,
                totalPaid: Math.round(totalPaid),
                totalInterest: Math.round(totalInterest)
            };
        }

        // BLOG FUNCTIONS
        function subscribeNewsletter(event) {
            event.preventDefault();
            const email = event.target.querySelector('input[type="email"]').value;
            showAlert(`¡Gracias por suscribirte con ${email}! Te enviaremos el primer CAMI Weekly en los próximos días.`, 'success');
            event.target.querySelector('input[type="email"]').value = '';
        }

        // STORAGE FUNCTIONS
        function saveToLocalStorage() {
            const data = {
                monthlyData: monthlyData,
                debts: debts,
                lastUpdated: new Date().toISOString()
            };
            localStorage.setItem('camiFinancialHub', JSON.stringify(data));
        }

        function loadFromLocalStorage() {
            try {
                const saved = localStorage.getItem('camiFinancialHub');
                if (saved) {
                    const data = JSON.parse(saved);
                    monthlyData = data.monthlyData || {};
                    debts = data.debts || [];
                    updateCronograma();
                    updateDebtsTable();
                }
            } catch (error) {
                console.log('No hay datos guardados previamente');
            }
        }

        function showAlert(message, type) {
            const existingAlerts = document.querySelectorAll('.alert');
            existingAlerts.forEach(alert => alert.remove());

            const alertDiv = document.createElement('div');
            alertDiv.className = `alert alert-${type}`;
            alertDiv.textContent = message;
            alertDiv.style.position = 'fixed';
            alertDiv.style.top = '100px';
            alertDiv.style.right = '20px';
            alertDiv.style.zIndex = '1001';
            alertDiv.style.maxWidth = '400px';
            
            document.body.appendChild(alertDiv);
            
            setTimeout(() => {
                alertDiv.remove();
            }, 4000);
        }

        // Cerrar modal al hacer clic fuera
        window.onclick = function(event) {
            const modal = document.getElementById('simulatorModal');
            if (event.target === modal) {
                closeModal();
            }
        }
    </script>
</body>
</html><!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CAMI Financial Hub - Simulador y Tips Financieros</title>
    <meta name="description" content="Herramientas financieras y consejos expertos de CAMI. Simulador de deudas y blog con tips para mejorar tus finanzas personales">
    <meta name="keywords" content="finanzas, presupuesto, deudas, simulador, ahorro, CAMI, blog financiero">
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>💰</text></svg>">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            overflow-x: hidden;
        }

        /* NAVEGACIÓN */
        .navbar {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            padding: 1rem 0;
            z-index: 1000;
            box-shadow: 0 2px 20px rgba(0,0,0,0.1);
        }

        .nav-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 2rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            font-size: 1.5rem;
            font-weight: bold;
            background: linear-gradient(45deg, #667eea, #764ba2);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .nav-menu {
            display: flex;
            list-style: none;
            gap: 2rem;
        }

        .nav-link {
            text-decoration: none;
            color: #333;
            font-weight: 500;
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .nav-link:hover, .nav-link.active {
            color: #667eea;
            transform: translateY(-2px);
        }

        /* HERO SECTION */
        .hero {
            min-height: 100vh;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
            color: white;
            position: relative;
            overflow: hidden;
        }

        .hero::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1000 1000"><defs><radialGradient id="a"><stop offset="0" stop-color="%23ffffff" stop-opacity="0.1"/><stop offset="1" stop-color="%23ffffff" stop-opacity="0"/></radialGradient></defs><circle cx="200" cy="200" r="100" fill="url(%23a)"/><circle cx="800" cy="400" r="150" fill="url(%23a)"/><circle cx="400" cy="800" r="120" fill="url(%23a)"/></svg>') no-repeat;
            opacity: 0.3;
        }

        .hero-content {
            max-width: 800px;
            padding: 2rem;
            position: relative;
            z-index: 1;
        }

        .hero h1 {
            font-size: 3.5rem;
            margin-bottom: 1rem;
            animation: fadeInUp 1s ease;
        }

        .hero .subtitle {
            font-size: 1.3rem;
            margin-bottom: 2rem;
            opacity: 0.9;
            animation: fadeInUp 1s ease 0.3s both;
        }

        .hero-buttons {
            display: flex;
            gap: 1rem;
            justify-content: center;
            flex-wrap: wrap;
            animation: fadeInUp 1s ease 0.6s both;
        }

        .btn-hero {
            padding: 1rem 2rem;
            font-size: 1.1rem;
            font-weight: bold;
            text-decoration: none;
            border-radius: 50px;
            transition: all 0.3s ease;
            cursor: pointer;
            border: none;
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
        }

        .btn-primary {
            background: white;
            color: #667eea;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
        }

        .btn-primary:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 40px rgba(0,0,0,0.3);
        }

        .btn-secondary {
            background: transparent;
            color: white;
            border: 2px solid white;
        }

        .btn-secondary:hover {
            background: white;
            color: #667eea;
            transform: translateY(-2px);
        }

        /* SECCIONES PRINCIPALES */
        .section {
            display: none;
            min-height: 100vh;
            padding: 6rem 2rem 2rem;
        }

        .section.active {
            display: block;
        }

        .hero.active {
            display: flex;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 2rem;
        }

        .section-title {
            text-align: center;
            font-size: 2.5rem;
            margin-bottom: 3rem;
            background: linear-gradient(45deg, #667eea, #764ba2);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        /* SIMULADOR STYLES */
        .simulator-section {
            background: white;
        }

        /* BLOG SECTION */
        .blog-section {
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            min-height: 100vh;
        }

        .blog-header {
            text-align: center;
            margin-bottom: 4rem;
        }

        .blog-header h2 {
            font-size: 2.5rem;
            margin-bottom: 1rem;
            background: linear-gradient(45deg, #667eea, #764ba2);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .blog-header p {
            font-size: 1.2rem;
            color: #6c757d;
            max-width: 600px;
            margin: 0 auto;
        }

        .blog-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 2rem;
            margin-bottom: 3rem;
        }

        .blog-card {
            background: white;
            border-radius: 15px;
            padding: 2rem;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            transition: all 0.3s ease;
            border: 1px solid #e9ecef;
        }

        .blog-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 20px 40px rgba(0,0,0,0.15);
        }

        .blog-card-header {
            display: flex;
            align-items: center;
            margin-bottom: 1rem;
        }

        .blog-icon {
            font-size: 2rem;
            margin-right: 1rem;
        }

        .blog-card h3 {
            color: #2c3e50;
            margin-bottom: 1rem;
            font-size: 1.3rem;
        }

        .blog-card p {
            color: #6c757d;
            margin-bottom: 1rem;
        }

        .blog-meta {
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-size: 0.9rem;
            color: #adb5bd;
            border-top: 1px solid #e9ecef;
            padding-top: 1rem;
            margin-top: 1rem;
        }

        .read-more {
            color: #667eea;
            text-decoration: none;
            font-weight: bold;
            transition: all 0.3s ease;
        }

        .read-more:hover {
            color: #764ba2;
        }

        /* NEWSLETTER */
        .newsletter-section {
            background: linear-gradient(45deg, #667eea, #764ba2);
            color: white;
            padding: 3rem 2rem;
            margin: 3rem 0;
            border-radius: 20px;
            text-align: center;
        }

        .newsletter-section h3 {
            font-size: 2rem;
            margin-bottom: 1rem;
        }

        .newsletter-form {
            display: flex;
            max-width: 500px;
            margin: 2rem auto;
            gap: 1rem;
            flex-wrap: wrap;
            justify-content: center;
        }

        .newsletter-input {
            flex: 1;
            padding: 1rem;
            border: none;
            border-radius: 50px;
            font-size: 1rem;
            min-width: 250px;
        }

        .newsletter-btn {
            padding: 1rem 2rem;
            background: white;
            color: #667eea;
            border: none;
            border-radius: 50px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .newsletter-btn:hover {
            transform: scale(1.05);
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }

        /* ANIMACIONES */
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .fade-in {
            animation: fadeInUp 0.8s ease;
        }

        /* MOBILE */
        @media (max-width: 768px) {
            .nav-menu {
                display: none;
            }
            
            .hero h1 {
                font-size: 2.5rem;
            }
            
            .hero .subtitle {
                font-size: 1.1rem;
            }
            
            .hero-buttons {
                flex-direction: column;
                align-items: center;
            }
            
            .section-title {
                font-size: 2rem;
            }
            
            .blog-grid {
                grid-template-columns: 1fr;
            }
            
            .newsletter-form {
                flex-direction: column;
            }
        }

        /* ESTILOS DEL SIMULADOR (copiados de la versión anterior) */
        .tabs {
            display: flex;
            margin-bottom: 20px;
            background: #f8f9fa;
            border-radius: 10px;
            padding: 5px;
        }
        
        .tab-button {
            flex: 1;
            padding: 15px 20px;
            border: none;
            background: transparent;
            cursor: pointer;
            border-radius: 8px;
            font-weight: bold;
            transition: all 0.3s ease;
        }
        
        .tab-button.active {
            background: linear-gradient(45deg, #667eea, #764ba2);
            color: white;
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
        }
        
        .tab-content {
            display: none;
        }
        
        .tab-content.active {
            display: block;
        }
        
        .summary-cards {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .summary-card {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 20px;
            border-radius: 15px;
            text-align: center;
            box-shadow: 0 10px 25px rgba(102, 126, 234, 0.3);
        }
        
        .summary-card h3 {
            margin: 0 0 10px 0;
            font-size: 1.2em;
        }
        
        .summary-card .amount {
            font-size: 1.8em;
            font-weight: bold;
        }

        .control-section {
            background: #f8f9fa;
            border-radius: 15px;
            padding: 25px;
            margin-bottom: 30px;
        }

        .month-selector {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 25px;
            flex-wrap: wrap;
        }

        .month-selector select {
            padding: 10px 15px;
            border: 2px solid #dee2e6;
            border-radius: 8px;
            font-size: 16px;
            background: white;
        }

        .add-section {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 25px;
            margin-bottom: 30px;
        }

        .add-card {
            background: white;
            border-radius: 12px;
            padding: 20px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            border: 2px solid #e9ecef;
        }

        .add-card h4 {
            margin: 0 0 15px 0;
            color: #495057;
            font-size: 1.2em;
        }

        .input-group {
            margin-bottom: 15px;
        }

        .input-group label {
            display: block;
            margin-bottom: 5px;
            font-weight: bold;
            color: #495057;
        }

        .input-group input, .input-group select {
            width: 100%;
            padding: 10px;
            border: 2px solid #dee2e6;
            border-radius: 6px;
            font-size: 14px;
            box-sizing: border-box;
        }

        .input-group input:focus, .input-group select:focus {
            border-color: #667eea;
            outline: none;
        }

        .debt-details {
            display: none;
            background: #f1f3f4;
            padding: 15px;
            border-radius: 8px;
            margin-top: 10px;
        }

        .debt-details.show {
            display: block;
        }

        .btn {
            padding: 12px 20px;
            border: none;
            border-radius: 8px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 14px;
        }

        .btn-primary-sim {
            background: linear-gradient(45deg, #667eea, #764ba2);
            color: white;
        }

        .btn-success {
            background: linear-gradient(45deg, #28a745, #20c997);
            color: white;
        }

        .btn-danger {
            background: linear-gradient(45deg, #dc3545, #c82333);
            color: white;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
            background: white;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
        
        th, td {
            padding: 12px;
            text-align: left;
            border-bottom: 1px solid #eee;
        }
        
        th {
            background: linear-gradient(45deg, #667eea, #764ba2);
            color: white;
            font-weight: bold;
        }
        
        tr:hover {
            background-color: #f8f9ff;
        }

        .currency {
            text-align: right;
            font-family: 'Courier New', monospace;
            font-weight: bold;
        }

        .modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.5);
        }

        .modal-content {
            background-color: white;
            margin: 2% auto;
            padding: 30px;
            border-radius: 15px;
            width: 90%;
            max-width: 700px;
            max-height: 90vh;
            overflow-y: auto;
            box-shadow: 0 20px 40px rgba(0,0,0,0.3);
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 2px solid #eee;
        }

        .close {
            color: #aaa;
            font-size: 28px;
            font-weight: bold;
            cursor: pointer;
        }

        .close:hover {
            color: #000;
        }

        .scenario-card {
            background: #f8f9fa;
            border-left: 4px solid #667eea;
            padding: 15px;
            margin: 10px 0;
            border-radius: 8px;
        }

        .scenario-highlight {
            background: #e7f3ff;
            border-left-color: #0366d6;
        }

        .debt-simulation {
            background: white;
            border-radius: 12px;
            padding: 20px;
            margin-top: 20px;
            border: 2px solid #e9ecef;
        }

        .simulation-results {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-top: 15px;
        }

        .result-card {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 8px;
            text-align: center;
            border: 1px solid #dee2e6;
        }

        .result-card h5 {
            margin: 0 0 10px 0;
            color: #495057;
            font-size: 0.9em;
        }

        .result-card .value {
            font-size: 1.3em;
            font-weight: bold;
            color: #667eea;
        }

        .alert {
            padding: 15px;
            border-radius: 8px;
            margin: 15px 0;
            font-weight: bold;
        }

        .alert-success {
            background: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }

        .alert-warning {
            background: #fff3cd;
            color: #856404;
            border: 1px solid #ffeaa7;
        }

        .alert-danger {
            background: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }

        .delete-btn {
            background: #dc3545;
            color: white;
            border: none;
            padding: 5px 10px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 12px;
            margin-left: 5px;
        }

        .simulate-btn {
            background: #17a2b8;
            color: white;
            border: none;
            padding: 8px 15px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 12px;
        }

        .quick-scenarios {
            display: flex;
            gap: 10px;
            margin-top: 15px;
            flex-wrap: wrap;
        }

        .quick-btn {
            padding: 8px 15px;
            border: 2px solid #667eea;
            background: white;
            color: #667eea;
            border-radius: 6px;
            cursor: pointer;
            font-size: 12px;
            font-weight: bold;
            transition: all 0.3s ease;
        }

        .quick-btn:hover {
            background: #667eea;
            color: white;
        }

        .transactions-table {
            margin-top: 20px;
        }

        .summary-month {
            margin-top: 30px;
        }

        .month-cell {
            font-weight: bold;
        }

        .intro-section {
            background: linear-gradient(135deg, #e7f3ff 0%, #cce7ff 100%);
            border-radius: 15px;
            padding: 25px;
            margin-bottom: 30px;
            border: 2px solid #b8daff;
            text-align: center;
        }

        .intro-section h2 {
            color: #0366d6;
            margin-bottom: 15px;
        }

        .intro-section h3 {
            color: #0366d6;
            margin-bottom: 15px;
        }

        .intro-section p {
            margin-bottom: 10px;
            font-size: 1.1em;
        }

        .features-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }

        .feature-card {
            background: white;
            padding: 20px;
            border-radius: 10px;
            text-align: center;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        .feature-card h4 {
            color: #667eea;
            margin-bottom: 10px;
        }
    </style>
</head>
<body>
    <!-- NAVEGACIÓN -->
    <nav class="navbar">
        <div class="nav-container">
            <div class="logo">💰 CAMI Financial Hub</div>
            <ul class="nav-menu">
                <li><a class="nav-link active" onclick="showSection('hero')">Inicio</a></li>
                <li><a class="nav-link" onclick="showSection('simulator')">Simulador Financiero</a></li>
                <li><a class="nav-link" onclick="showSection('blog')">CAMI Comments, Tips & Tricks</a></li>
            </ul>
        </div>
    </nav>

    <!-- HERO SECTION -->
    <section id="hero" class="hero active">
        <div class="hero-content">
            <h1>💰 CAMI Financial Hub</h1>
            <p class="subtitle">Tu centro de herramientas financieras inteligentes. Simula tus deudas, controla tus gastos y descubre consejos expertos para mejorar tus finanzas personales.</p>
            <div class="hero-buttons">
                <button class="btn-hero btn-primary" onclick="showSection('simulator')">
                    🧮 Simulador de Deudas
                </button>
                <button class="btn-hero btn-secondary" onclick="showSection('blog')">
                    📝 Tips & Consejos
                </button>
            </div>
        </div>
    </section>

    <!-- SIMULADOR SECTION -->
    <section id="simulator" class="section simulator-section">
        <div class="container">
            <h2 class="section-title">🧮 Simulador Financiero Personal</h2>
            
            <div class="intro-section">
                <h2>🎯 Toma Control de tus Finanzas</h2>
                <p>Herramienta completa para gestionar tu dinero, simular el pago de deudas y planificar tu futuro financiero.</p>
                
                <div class="features-grid">
                    <div class="feature-card">
                        <h4>📊 Control Mensual</h4>
                        <p>Registra tus ingresos y gastos mes a mes</p>
                    </div>
                    <div class="feature-card">
                        <h4>💳 Simulador de Deudas</h4>
                        <p>Calcula cuánto tiempo tardas en pagar tus deudas</p>
                    </div>
                    <div class="feature-card">
                        <h4>📈 Cronograma Personal</h4>
                        <p>Visualiza tu progreso financiero</p>
                    </div>
                </div>
            </div>
            
            <div class="tabs">
                <button class="tab-button active" onclick="showTab('cronograma')">📊 Mi Cronograma</button>
                <button class="tab-button" onclick="showTab('control')">📝 Control Mensual</button>
                <button class="tab-button" onclick="showTab('deudas')">💳 Simulador Deudas</button>
            </div>
            
            <!-- CRONOGRAMA -->
            <div id="cronograma" class="tab-content active">
                <div class="summary-cards">
                    <div class="summary-card">
                        <h3>Ingresos Promedio</h3>
                        <div class="amount" id="totalIngresosMensuales">$0</div>
                    </div>
                    <div class="summary-card">
                        <h3>Gastos Promedio</h3>
                        <div class="amount" id="totalGastosMensuales">$0</div>
                    </div>
                    <div class="summary-card">
                        <h3>Ahorro Promedio</h3>
                        <div class="amount" id="ahorroPromedio">$0</div>
                    </div>
                    <div class="summary-card">
                        <h3>Meses Registrados</h3>
                        <div class="amount" id="mesesRegistrados">0</div>
                    </div>
                </div>
                
                <table id="cronogramaTable">
                    <thead>
                        <tr>
                            <th>Mes</th>
                            <th>Ingresos</th>
                            <th>Gastos</th>
                            <th>Ahorro</th>
                            <th>Estado</th>
                            <th>Acciones</th>
                        </tr>
                    </thead>
                    <tbody id="cronogramaBody">
                        <tr>
                            <td colspan="6" style="text-align: center; padding: 40px; color: #6c757d;">
                                <h3>¡Comienza registrando tu primer mes!</h3>
                                <p>Ve a "Control Mensual" para agregar tus ingresos y gastos</p>
                                <button class="btn btn-primary-sim" onclick="showTab('control'); document.querySelector('[onclick=\"showTab(\'control\')\"]').classList.add('active');">
                                    📝 Ir a Control Mensual
                                </button>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <!-- CONTROL MENSUAL -->
            <div id="control" class="tab-content">
                <div class="control-section">
                    <h2>📝 Control de Ingresos y Gastos</h2>
                    
                    <div class="month-selector">
                        <label for="selectedMonth"><strong>Seleccionar Mes:</strong></label>
                        <select id="selectedMonth" onchange="updateCurrentMonth()">
                            <!-- Se llenarán dinámicamente -->
                        </select>
                        <button class="btn btn-primary-sim" onclick="addNewMonth()">+ Agregar Mes</button>
                    </div>

                    <div class="add-section">
                        <div class="add-card">
                            <h4>💰 Agregar Ingreso</h4>
                            <div class="input-group">
                                <label>Descripción</label>
                                <input type="text" id="ingresoDesc" placeholder="Ej: Sueldo, Freelance, Bono">
                            </div>
                            <div class="input-group">
                                <label>Monto</label>
                                <input type="number" id="ingresoMonto" placeholder="0">
                            </div>
                            <div class="input-group">
                                <label>Fecha</label>
                                <input type="date" id="ingresoFecha">
                            </div>
                            <button class="btn btn-success" onclick="addIngreso()">+ Agregar Ingreso</button>
                        